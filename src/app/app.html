<div style="margin-top: 70px;"></div>
<!-- Header -->
<nav class="navbar nav-shop navbar-expand-lg navbar-light shadow" style="height: 70px;">
  <div class="container d-flex justify-content-between align-items-center">

    <a class="navbar-brand text-success logo h1 align-self-center" style="font-weight: 900 !important;" routerLink="/">
      <div class="logo-img">
        <img src="Img/logo.jpg" alt="" class="img">
      </div>
    </a>
    <div class="align-self-center collapse navbar-collapse flex-fill  d-lg-flex justify-content-between"
      id="templatemo_main_nav">
      <div class="flex-fill">
        <ul class="nav navbar-nav d-flex justify-content-between mx-lg-auto">
          <!-- Home -->
          <li class="nav-item shop-list">
            <a class="nav-link list-title" routerLink="/home" routerLinkActive="actives">Home</a>
          </li>
          <!-- about -->
          <li class="nav-item shop-list">
            <a class="nav-link list-title" routerLink="/about" routerLinkActive="actives">About</a>
          </li>
          <!-- shop -->
          <li class="nav-item shop-list" routerLinkActive="actives" [routerLinkActiveOptions]="{ exact: false }">
            <a class="nav-link list-title">Shop</a>
            <i class="fa fa-chevron-down"></i>
            <div class="list">
              <!-- Gender -->
              <div class="gender">
                <h4 style="margin-left: 10px;">Gender</h4>
                <div style="display: flex; flex-direction: column;">
                  @for(g of genderList; track $index){
                  <span [routerLink]="['/shop', g.filter]" routerLinkActive="active">
                    {{ g.label }}
                  </span>
                  }
                </div>
              </div>
              <!-- Category -->
              <div class="category" style="margin-left: 40px; border-left: 1px solid rgba(255, 255, 255, 0.227);">
                <h4 style="margin-left: 10px;">Category</h4>
                <div style="display: flex; flex-direction: column;">
                  @for(cat of categories; track $index){
                  <span [routerLink]="['/shop', cat]" routerLinkActive="active">
                    {{ cat | titlecase }}
                  </span>
                  }
                </div>
              </div>
              <div class="category" style="margin-left: 40px; border-left: 1px solid rgba(255, 255, 255, 0.227);">
                <h4 style="margin-left: 10px;">Brand</h4>
                <div style="display: flex; flex-direction: column;">
                  <span [routerLink]="['/shop', 'Zando']" routerLinkActive="active">
                    Zando
                  </span>
                  <span [routerLink]="['/shop', 'Routine']" routerLinkActive="active">
                    Routine
                  </span>
                  <span [routerLink]="['/shop', 'Ten eleven']" routerLinkActive="active">
                    Ten eleven
                  </span>
                </div>
              </div>
            </div>
          </li>
          <!-- contact -->
          <li class="nav-item shop-list">
            <a class="nav-link list-title" routerLink="/contact" routerLinkActive="actives">Contact</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="align-self-center d-flex nav-icon-list" style="transition: all 0.3s ease;">
      <!-- search -->
      <a class="nav-icon d-lg-inline" style="cursor: pointer;" data-bs-toggle="modal"
        data-bs-target="#templatemo_search">
        <i class="fa fa-fw fa-search text-dark mr-2 list-title"></i>
      </a>
      <!-- cart -->
      <a class="nav-icon position-relative text-decoration-none ms-3" style="cursor: pointer;"
        data-bs-toggle="offcanvas" data-bs-target="#offcanvasBottom" aria-controls="offcanvasBottom">
        <i class="fa fa-fw fa-cart-arrow-down text-dark mr-1"></i>
        <span class="position-absolute top-0 left-100 translate-middle badge rounded-pill bg-danger text-light">
          {{cart.displayCartItems().length}}
        </span>
      </a>
      <!-- favorites -->
      <a class="nav-icon position-relative text-decoration-none ms-3" style="cursor: pointer;"
        data-bs-toggle="offcanvas" data-bs-target="#offcanvasFavorites">
        <i class="fa fa-fw fa-heart text-dark mr-3 fs-4"></i>
        @if(fav.displayFavorites().length > 0){
        <span class="position-absolute top-0 left-100 translate-middle badge rounded-pill bg-danger text-danger"
          style="width: 10px !important; height: 10px !important; font-size: 5px;">.</span>
        }
      </a>
      <div class="hidden-list d-lg-inline" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample"
        aria-controls="offcanvasExample">
        <i class="fa fa-fw fa-list"></i>
      </div>
    </div>
  </div>
</nav>
<!-- Close Header -->

<!-- Modal -->
<div class="modal fade bg-white" id="templatemo_search" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="w-100 pt-1 mb-5 text-right">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-content modal-body border-0 p-0">
      <div class="input-group mb-2">
        <input type="text" class="form-control" name="q" placeholder="Search ..." #searchText
          (keydown)="filterSearch(searchText.value)">
        <button class="input-group-text bg-success text-light" (click)="filterSearch(searchText.value)">
          <i class="fa fa-fw fa-search text-white"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="p-5">
    <app-card class="row" [Items]="searchList"></app-card>
  </div>
</div>

<router-outlet />

<!-- Start Footer -->
<footer  id="tempaltemo_footer" style="background-color: var(--green-color);">
  <div class="container">
    <div class="row">
      <div class="col-md-4 pt-5">
        <h2 class="h2 border-bottom pb-3 border-light" style="font-weight: 900;">SH</h2>
        <ul class="list-unstyled text-light footer-link-list">
          <li>
            <a style="text-decoration: none;" href="https://www.google.com/maps/place/%E1%9E%9C%E1%9E%B7%E1%9E%91%E1%9F%92%E1%9E%99%E1%9E%B6%E1%9E%9F%E1%9F%92%E1%9E%90%E1%9E%B6%E1%9E%93%E2%80%8B+%E1%9E%9F%E1%9F%8A%E1%9E%B7%E1%9E%8F%E1%9E%B7%E1%9E%80/@11.5682046,104.8925544,16.68z/data=!4m6!3m5!1s0x31095173761d4a53:0xcd09ff2f4d326e3f!8m2!3d11.5680861!4d104.8947315!16s%2Fg%2F11r8vvxw9?entry=ttu&g_ep=EgoyMDI1MDkzMC4wIKXMDSoASAFQAw%3D%3D">
              <i class="fas fa-map-marker-alt fa-fw"></i>
              SETEC Institute, Phnom Penh, Cambodia
            </a>
          </li>
          <li>
            <a class="text-decoration-none" href="tel:0965496483">
              <i class="fa fa-phone fa-fw"></i>
              096 123 4567
            </a>
          </li>
          <li>
            <a class="text-decoration-none" href="https://www.setecu.com/">
              <i class="fa fa-envelope fa-fw"></i>
              sh@gmail.com
            </a>
          </li>
        </ul>
      </div>

      <div class="col-md-5 pt-5">
        <h2 class="h2 text-light border-bottom pb-3 border-light" style="font-weight: 900;">SHOP</h2>
        <div class="d-flex">
          <ul class="list-unstyled text-light footer-link-list">
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'female']">Women</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'male']">Men</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 't-shirt']">T-shirt</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'shirt']">Shirt</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'jeans']">Jeans</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'hat']">Hat</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'skirt']">Skirt</a></li>
          </ul>
          <ul class="list-unstyled text-light footer-link-list ms-5">
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'oversize']">Oversize</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'regular']">Regular</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'sport']">Sport</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'bag']">Bag</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'polo']">Polo</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'trouser']">Trouser</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'shoes']">Shoes</a></li>
          </ul>
          <ul class="list-unstyled text-light footer-link-list ms-5">
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'other']">Other</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'Zando']">Zando</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'Routine']">Routine</a></li>
            <li><a class="text-decoration-none" [routerLink]="['/shop', 'Ten eleven']">Ten eleven</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-3 pt-5">
        <h2 class="h2 text-light border-bottom pb-3 border-light" style="font-weight: 900;">PAGE</h2>
        <ul class="list-unstyled text-light footer-link-list">
          <li><a class="text-decoration-none" [routerLink]="['/']">Home</a></li>
          <li><a class="text-decoration-none" [routerLink]="['/about']">About Us</a></li>
          <li><a class="text-decoration-none" [routerLink]="['/contact']">Contact</a></li>
        </ul>
      </div>

    </div>

    <div class="row text-light mb-4">
      <div class="col-12 mb-3">
        <div class="w-100 my-3 border-top border-light"></div>
      </div>
      <div class="col-auto me-auto">
        <ul class="list-inline text-left footer-icons">
          <li class="list-inline-item rounded-circle text-center white-border">
            <a class="text-light text-decoration-none" target="_blank" href="http://facebook.com/"><i
                class="fab fa-facebook-f fa-lg fa-fw"></i></a>
          </li>
          <li class="list-inline-item rounded-circle text-center white-border">
            <a class="text-light text-decoration-none" target="_blank" href="https://www.instagram.com/"><i
                class="fab fa-instagram fa-lg fa-fw"></i></a>
          </li>
          <li class="list-inline-item rounded-circle text-center white-border">
            <a class="text-light text-decoration-none" target="_blank" href="https://twitter.com/"><i
                class="fab fa-twitter fa-lg fa-fw"></i></a>
          </li>
          <li class="list-inline-item rounded-circle text-center white-border">
            <a class="text-light text-decoration-none" target="_blank" href="https://www.linkedin.com/"><i
                class="fab fa-linkedin fa-lg fa-fw"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="w-100 bg-black py-3">
    <p class="text-center text-light" style="margin-bottom: 0px;">Enjoy your shopping experience!</p>
  </div>

</footer>
<!-- End Footer -->

<!-- Off-canvas for menu list -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Menu List</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled">
      <li class="menu-title">Menu List</li>
      <li class="list-title fs-1" [routerLink]="['/']">Home</li>
      <li class="list-title fs-1" [routerLink]="['/about']" routerLinkActive="active-hidden-list">About</li>
      <li class="hidde-shop-list" routerLinkActive="active-hidden-list" [routerLinkActiveOptions]="{ exact: false }">
        <span class="list-title fs-1" (click)="hiddeShop() == '0px' ? hiddeShop.set('auto') : hiddeShop.set('0px')">
          Shop
          <i class="fas fa-chevron-down fs-4"></i>
        </span>
        <div class="collapsea" [style.height]="hiddeShop()">
          <div class="card-body" routerLinkActive="active-hidden-list" [routerLinkActiveOptions]="{ exact: false }">
            <h2 class="list-title" style="color: black !important;" (click)="hiddeGender() == '0px' ? hiddeGender.set('auto') : hiddeGender.set('0px')">Gender</h2>
            @for(g of genderList; track $index){
            <div class="hedde-overflow" [style.height]="hiddeGender()">
              <a class="text-decoration-none text-dark" [routerLink]="['/shop', g.filter]" routerLinkActive="active-hidden-list">
                {{ g.label }}
              </a>
            </div>
            }
          </div>
          <div class="card-body" routerLinkActive="active-hidden-list" [routerLinkActiveOptions]="{ exact: false }">
            <h2 class="list-title mt--1" style="color: black !important;" (click)="hiddeCategory() == '0px' ? hiddeCategory.set('auto') : hiddeCategory.set('0px')">Categories</h2>
            @for(category of categories; track $index){
            <div class="hedde-overflow" [style.height]="hiddeCategory()">
              <a class="text-decoration-none text-dark" [routerLink]="['/shop', category]" routerLinkActive="active-hidden-list">
                {{ category }}
              </a>
            </div>
            }
          </div>
          <div class="card-body" routerLinkActive="active-hidden-list" [routerLinkActiveOptions]="{ exact: false }">
            <h2 class="list-title mt--1" style="color: black !important;" (click)="hiddeBrand() == '0px' ? hiddeBrand.set('auto') : hiddeBrand.set('0px')">Brands</h2>
            <div class="hedde-overflow" style="display: flex; flex-direction: column;" [style.height]="hiddeBrand()">
              <a class="text-decoration-none text-dark" [routerLink]="['/shop', 'Zando']" routerLinkActive="active-hidden-list">
                Zando
              </a>
              <a class="text-decoration-none text-dark" [routerLink]="['/shop', 'Routine']" routerLinkActive="active-hidden-list">
                Routine
              </a>
              <a class="text-decoration-none text-dark" [routerLink]="['/shop', 'Ten eleven']" routerLinkActive="active-hidden-list">
                Ten eleven
              </a>
            </div>
          </div>
        </div>
      </li>
      <li class="list-title fs-1" [routerLink]="['/contact']" routerLinkActive="active-hidden-list">Contact</li>
    </ul>
  </div>
</div>

<!-- Off-canvas for Favorites -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasFavorites" aria-labelledby="offcanvasFavoritesLabel">
  <div class="offcanvas-header bg-dark text-white">
    <h5 class="offcanvas-title" id="offcanvasFavoritesLabel">Favorites</h5>
    <button type="button" class="btn text-white position-absolute end-0 fs-4 text-reset" data-bs-dismiss="offcanvas"
      aria-label="Close"><i class="bi bi-x-lg"></i></button>
  </div>
  <div class="offcanvas-body">
    <li class="menu-title">Favorites</li>
    <!-- start fav card -->
    @if(fav.displayFavorites().length > 0){
    @for(car of fav.displayFavorites(); track $index){
    <div class="card mb-3" style="max-width: 540px;">
      <div class="row g-0">
        <div class="col-md-5 overflow-hidden d-flex align-items-center rounded-start" style="height: 130px;">
          <img [src]="car.imageUrl[0]" class="img-fluid" alt="...">
        </div>
        <div class="col-md-7">
          <div class="card-body">
            <h5 class="card-title border-bottom pb-2">{{ car.brand }}</h5>
            <span class="card-text">Price: {{ car.price | currency }}</span>
            <div class="d-flex justify-content-between mt-1">
              <button class="btn btn-sm w-100 text-light" style="background-color: var(--green-color);"
                [routerLink]="['/detail', car.id]">View Details</button>
              <button class="btn btn-sm btn-outline-secondary ms-2" (click)="fav.addToFavorites(car, 'remove')"><i
                  class="bi bi-trash"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    }
    } @else {
    <p>No favorite clothes added yet.</p>
    }
    <!-- end fav card -->
  </div>
</div>
<!-- end::favorites -->

<!-- Off-canvas for Add to cart -->
<div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasBottom" aria-labelledby="offcanvasBottomLabel"
  style="height: 400px !important;">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title menu-title" id="offcanvasBottomLabel" style="margin-bottom: -30px;">ADD TO CART</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body small">
    @if(cart.displayCartItems().length > 0){
<div class="row">
  <!-- Payment Section -->
  <div class="col-12 col-lg-3 mb-4">
    <span>Select method to pay</span>
    <div class="d-flex mt-4 flex-wrap gap-2">
      <div class="pay-way p-1" (click)="payway=1"
        [style.border]="payway==1? '3px solid var(--green-color)': '3px solid white'">
        <img src="https://play-lh.googleusercontent.com/WU6sZMD1UspzwqYnlACtmN60rckp8hoINSgsR21mKLJBbsHPwXtzwvOocpjC7FcO1g=w240-h480-rw"
          width="70" height="70" style="border-radius: 5px;" alt="">
      </div>
      <div class="pay-way p-1" (click)="payway=2"
        [style.border]="payway==2? '3px solid var(--green-color)': '3px solid white'">
        <img src="https://play-lh.googleusercontent.com/weU8O2dHEQffcEyHeK11qTUMS-AQvlHW1IolQDM1XLuZN0ggl6Zr9kUwBqHwXr7i5T0"
          width="70" height="70" style="border-radius: 5px;" alt="">
      </div>
      <div class="pay-way p-1" (click)="payway=3"
        [style.border]="payway==3? '3px solid var(--green-color)': '3px solid white'">
        <img src="https://play-lh.googleusercontent.com/IwZLaZnWhlINs7AoIg7m7qNR-JNLInrme1xtrXkYoNxWwdTlWZozZnIligkyjUhiO0Q5"
          width="70" height="70" style="border-radius: 5px;" alt="">
      </div>
    </div>
    <h4 class="mt-4">TOTAL :
      <span style="color: var(--green-color);">{{cart.totalAmount() | currency}}</span>
    </h4>
    <button class="btn w-100 mt-2 checkout" (click)="checkPay()">Check Out</button>
    <span class="text-danger mt-4">{{message}}</span>
  </div>

  <!-- Cart Table -->
  <div class="col-12 col-lg-9">
    <div style="overflow-x:auto;">
      <table class="table table-striped align-middle">
        <thead class="text-light" style="background-color: var(--green-color);">
          <tr>
            <th class="tbl-product">Product</th>
            <th class="tbl-price">Price</th>
            <th class="tbl-size">Size</th>
            <th class="tbl-quantity">Quantity</th>
            <th class="tbl-remove"></th>
          </tr>
        </thead>
        <tbody>
          @for(product of cart.displayCartItems(); track $index){
          <tr>
            <td class="d-flex align-items-center tbl-product">
              <div class="img me-3"
                style="width:70px; height:70px; overflow:hidden; display:flex; align-items:center; justify-content:center; cursor: pointer;"
                [routerLink]="['/detail', product.id]">
                <img [src]="product.imageUrl[0]" alt="" style="width:70px;">
              </div>
              <span class="product-name" [routerLink]="['/detail', product.id]">{{ product.name }}</span>
            </td>
            <td class="tbl-price">${{ product.price | number:'1.0-2' }}</td>
            <!-- Size Selector -->
            <td class="tbl-size">
              <div class="size d-flex gap-2 flex-wrap">
                <div class="si" (click)="cart.addToCart(product, 'M', 'size')"
                  [style.background-color]="product.size == 'M' ? 'var(--green-color)' : 'transparent'">M</div>
                <div class="si" (click)="cart.addToCart(product, 'L', 'size')"
                  [style.background-color]="product.size == 'L' ? 'var(--green-color)' : 'transparent'">L</div>
                <div class="si" (click)="cart.addToCart(product, 'X', 'size')"
                  [style.background-color]="product.size == 'X' ? 'var(--green-color)' : 'transparent'">X</div>
                <div class="si" (click)="cart.addToCart(product, 'XL', 'size')"
                  [style.background-color]="product.size == 'XL' ? 'var(--green-color)' : 'transparent'">XL</div>
              </div>
            </td>
            <!-- Quantity -->
            <td class="tbl-quantity">
              <div class="input-group input-group-sm justify-content-center">
                <button class="btn btn-outline-secondary" type="button"
                  (click)="cart.addToCart(product, product.size, 'minus')">−</button>
                <span class="form-control text-center">{{product.quantity}}</span>
                <button class="btn btn-outline-secondary" type="button"
                  (click)="cart.addToCart(product, product.size, 'plus')">+</button>
              </div>
            </td>
            <!-- Remove -->
            <td class="tbl-remove">
              <button class="btn" (click)="cart.removeFromCart(product)">✕</button>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
} @else {
<p>No clothes added to cart yet.</p>
<button class="btn w-100 mt-2 checkout" style="width: 200px !important;" data-bs-dismiss="offcanvas" aria-label="Close">Continue Shopping</button>
}

  </div>
</div>
<!-- end::add to cart -->

<div class="alert alert-success d-flex align-items-center {{alert()}}" role="alert">
  <i class="bi bi-check-circle-fill me-3"></i>
  <div>
    You pay successfuly 🎉, We'll delivery for you soon.
  </div>
</div>

<!-- start loading -->
<div class="loader" [style.display]="loading()">
  <div class="circle">
    <div class="dot"></div>
    <div class="outline"></div>
  </div>
  <div class="circle">
    <div class="dot"></div>
    <div class="outline"></div>
  </div>
  <div class="circle">
    <div class="dot"></div>
    <div class="outline"></div>
  </div>
  <div class="circle">
    <div class="dot"></div>
    <div class="outline"></div>
  </div>
</div>
<!-- end::loading -->